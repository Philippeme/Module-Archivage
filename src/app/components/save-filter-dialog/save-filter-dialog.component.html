<div class="save-filter-dialog">
    <h2 mat-dialog-title>Sauvegarder le filtre</h2>
    
    <mat-dialog-content>
      <form [formGroup]="saveForm">
        <div class="mb-3">
          <label for="name" class="form-label">Nom du filtre *</label>
          <input type="text" class="form-control" id="name" formControlName="name" 
                 [ngClass]="{'is-invalid': saveForm.get('name')?.invalid && saveForm.get('name')?.touched}">
          <div class="invalid-feedback" *ngIf="saveForm.get('name')?.errors?.['required']">
            Le nom du filtre est requis
          </div>
          <div class="invalid-feedback" *ngIf="saveForm.get('name')?.errors?.['minlength']">
            Le nom doit contenir au moins 3 caractères
          </div>
          <div class="invalid-feedback" *ngIf="saveForm.get('name')?.errors?.['maxlength']">
            Le nom ne peut pas dépasser 50 caractères
          </div>
          <div class="invalid-feedback" *ngIf="saveForm.get('name')?.errors?.['nameExists']">
            Ce nom de filtre existe déjà
          </div>
        </div>
        
        <div class="mb-3">
          <label for="description" class="form-label">Description</label>
          <textarea class="form-control" id="description" formControlName="description" rows="3"></textarea>
        </div>
        
        <div class="form-check mb-3">
          <input class="form-check-input" type="checkbox" id="isDefault" formControlName="isDefault">
          <label class="form-check-label" for="isDefault">
            Définir comme filtre par défaut
          </label>
        </div>
      </form>
    </mat-dialog-content>
    
    <mat-dialog-actions align="end">
      <button class="btn btn-secondary" (click)="onCancel()">Annuler</button>
      <button class="btn btn-primary" (click)="onSave()" [disabled]="saveForm.invalid">Sauvegarder</button>
    </mat-dialog-actions>
  </div>